import React, { useState } from 'react';

interface EyeIconProps {
  size?: number;
  color?: string;
  isFilled?: boolean;
  onClick?: (newState: 'slash' | 'normal') => void;
}

const EyeIcon: React.FC<EyeIconProps> = ({
  size = 28,
  color = 'black',
  isFilled = true,
  onClick,
}) => {
  const [isSlash, setIsSlash] = useState(true); // Mặc định là trạng thái "slash"

  const handleIconClick = () => {
    const newState = isSlash ? 'normal' : 'slash';
    setIsSlash(!isSlash);
    if (onClick) onClick(newState); // Gọi callback với trạng thái mới
  };

  const renderIcon = () => {
    if (isFilled) {
      if (isSlash) {
        return {
          d: 'M7.0869 5.91308C6.76276 5.58895 6.23724 5.58895 5.9131 5.91308C5.58897 6.23722 5.58897 6.76275 5.9131 7.08688L20.9131 22.0869C21.2372 22.411 21.7628 22.411 22.0869 22.0869C22.411 21.7627 22.411 21.2372 22.0869 20.9131L7.0869 5.91308ZM2.5 14C2.5 14 3.9247 11.5068 6.66783 9.49626L9.73438 12.5628C9.58238 13.0141 9.5 13.4974 9.5 14C9.5 16.4853 11.5147 18.5 14 18.5C14.5026 18.5 14.9859 18.4176 15.4372 18.2656L17.6059 20.4343C16.5124 20.7866 15.3095 21 14 21C6.5 21 2.5 14 2.5 14ZM10.75 14C10.75 13.8654 10.7582 13.7328 10.7741 13.6025L14.3975 17.2259C14.2672 17.2418 14.1346 17.25 14 17.25C12.2051 17.25 10.75 15.7949 10.75 14ZM13.6025 10.774L17.2259 14.3975C17.2418 14.2672 17.25 14.1346 17.25 14C17.25 12.2051 15.7949 10.75 14 10.75C13.8654 10.75 13.7328 10.7582 13.6025 10.774ZM18.5 14C18.5 14.5026 18.4176 14.9859 18.2656 15.4372L21.3322 18.5038C24.0753 16.4932 25.5 14 25.5 14C25.5 14 21.5 7.00001 14 7.00001C12.6905 7.00001 11.4876 7.21342 10.3941 7.56572L12.5628 9.73439C13.0141 9.58239 13.4974 9.50001 14 9.50001C16.4853 9.50001 18.5 11.5147 18.5 14Z',
        };
      }
      return {
        d: 'M2.49994 14C2.49994 14 6.49994 6.00002 13.9999 6.00002C21.4999 6.00002 25.4999 14 25.4999 14C25.4999 14 21.4999 22 13.9999 22C6.49994 22 2.49994 14 2.49994 14ZM19 14C19 16.7614 16.7614 19 14 19C11.2386 19 9 16.7614 9 14C9 11.2386 11.2386 9.00002 14 9.00002C16.7614 9.00002 19 11.2386 19 14ZM17 14C17 15.6569 15.6569 17 14 17C12.3431 17 11 15.6569 11 14C11 12.3432 12.3431 11 14 11C15.6569 11 17 12.3432 17 14Z',
      };
    }

    if (isSlash) {
      return {
        d: 'M7.0869 5.91308C6.76276 5.58895 6.23724 5.58895 5.9131 5.91308C5.58897 6.23722 5.58897 6.76275 5.9131 7.08688L20.9131 22.0869C21.2372 22.411 21.7628 22.411 22.0869 22.0869C22.411 21.7627 22.411 21.2372 22.0869 20.9131L7.0869 5.91308ZM6.09587 8.9243C5.66452 9.24563 5.26616 9.57671 4.90122 9.90633C3.88606 10.8232 3.11771 11.7388 2.60214 12.4263C2.34394 12.7705 2.14798 13.0591 2.01509 13.2642C1.94862 13.3668 1.89785 13.4486 1.86287 13.5062C1.84538 13.535 1.83184 13.5578 1.82225 13.5741L1.81083 13.5936L1.80735 13.5996L1.80617 13.6017L1.80572 13.6025C1.80553 13.6028 1.80536 13.6031 2.49995 14L1.80536 13.6031C1.66482 13.849 1.66482 14.151 1.80536 14.3969L2.49995 14C1.80536 14.3969 1.80553 14.3972 1.80572 14.3975L1.80617 14.3983L1.80735 14.4004L1.81083 14.4064L1.82225 14.4259C1.83184 14.4422 1.84538 14.465 1.86287 14.4938C1.89785 14.5514 1.94862 14.6332 2.01509 14.7358C2.14798 14.9409 2.34394 15.2295 2.60214 15.5738C3.11771 16.2612 3.88606 17.1768 4.90122 18.0937C6.92795 19.9243 9.98574 21.8 14 21.8C15.5576 21.8 16.9713 21.5176 18.2365 21.0649L16.9639 19.7923C16.0505 20.0492 15.0621 20.2 14 20.2C10.5142 20.2 7.82195 18.5757 5.97368 16.9063C5.05134 16.0732 4.35094 15.2388 3.88214 14.6138C3.70166 14.3731 3.5562 14.1644 3.44626 14C3.5562 13.8356 3.70166 13.6269 3.88214 13.3863C4.35094 12.7612 5.05134 11.9268 5.97368 11.0937C6.35935 10.7453 6.78177 10.399 7.24047 10.0689L6.09587 8.9243ZM20.7595 17.9311C21.2182 17.601 21.6406 17.2547 22.0262 16.9063C22.9486 16.0732 23.649 15.2388 24.1178 14.6138C24.2982 14.3731 24.4437 14.1644 24.5536 14C24.4437 13.8356 24.2982 13.6269 24.1178 13.3863C23.649 12.7612 22.9486 11.9268 22.0262 11.0937C20.1779 9.42428 17.4857 7.80001 14 7.80001C12.9379 7.80001 11.9495 7.9508 11.0361 8.20771L9.76347 6.93504C11.0287 6.48242 12.4423 6.20001 14 6.20001C18.0142 6.20001 21.072 8.07573 23.0987 9.90633C24.1138 10.8232 24.8822 11.7388 25.3978 12.4263C25.656 12.7705 25.8519 13.0591 25.9848 13.2642C26.0513 13.3668 26.1021 13.4486 26.137 13.5062C26.1545 13.535 26.1681 13.5578 26.1777 13.5741L26.1891 13.5936L26.1925 13.5996L26.1937 13.6017L26.1942 13.6025C26.1944 13.6028 26.1945 13.6031 25.5 14C26.1945 14.3969 26.1944 14.3972 26.1942 14.3975L26.1937 14.3983L26.1925 14.4004L26.1891 14.4064L26.1777 14.4259C26.1681 14.4422 26.1545 14.465 26.137 14.4938C26.1021 14.5514 26.0513 14.6332 25.9848 14.7358C25.8519 14.9409 25.656 15.2295 25.3978 15.5738C24.8822 16.2612 24.1138 17.1768 23.0987 18.0937C22.7338 18.4233 22.3354 18.7544 21.9041 19.0757L20.7595 17.9311ZM25.5 14L26.1945 13.6031C26.3351 13.849 26.3351 14.151 26.1945 14.3969L25.5 14ZM9.73438 12.5628C9.58238 13.0141 9.5 13.4974 9.5 14C9.5 16.4853 11.5147 18.5 14 18.5C14.5026 18.5 14.9859 18.4176 15.4372 18.2656L9.73438 12.5628ZM18.2656 15.4372C18.4176 14.9859 18.5 14.5026 18.5 14C18.5 11.5147 16.4853 9.49998 14 9.49998C13.4974 9.49998 13.0141 9.58237 12.5628 9.73437L18.2656 15.4372Z',
      };
    }
    return {
      d: 'M3.88214 14.6138C3.70166 14.3731 3.5562 14.1644 3.44626 14C3.5562 13.8356 3.70166 13.6269 3.88214 13.3863C4.35094 12.7612 5.05134 11.9268 5.97368 11.0937C7.82195 9.42429 10.5142 7.80001 14 7.80001C17.4857 7.80001 20.1779 9.42429 22.0262 11.0937C22.9486 11.9268 23.649 12.7612 24.1178 13.3863C24.2982 13.6269 24.4437 13.8356 24.5536 14C24.4437 14.1644 24.2982 14.3731 24.1178 14.6138C23.649 15.2388 22.9486 16.0733 22.0262 16.9063C20.1779 18.5757 17.4857 20.2 14 20.2C10.5142 20.2 7.82195 18.5757 5.97368 16.9063C5.05134 16.0733 4.35094 15.2388 3.88214 14.6138ZM26.1942 13.6025C26.1944 13.6028 26.1945 13.6031 25.5 14C26.1945 14.3969 26.1944 14.3972 26.1942 14.3976L26.1937 14.3983L26.1925 14.4004L26.1891 14.4064L26.1777 14.426C26.1681 14.4422 26.1545 14.465 26.137 14.4938C26.1021 14.5514 26.0513 14.6332 25.9848 14.7358C25.8519 14.9409 25.656 15.2295 25.3978 15.5738C24.8822 16.2612 24.1138 17.1768 23.0987 18.0937C21.072 19.9243 18.0142 21.8 14 21.8C9.98574 21.8 6.92795 19.9243 4.90122 18.0937C3.88606 17.1768 3.11771 16.2612 2.60214 15.5738C2.34394 15.2295 2.14798 14.9409 2.01509 14.7358C1.94862 14.6332 1.89785 14.5514 1.86287 14.4938C1.84538 14.465 1.83184 14.4422 1.82225 14.426L1.81083 14.4064L1.80735 14.4004L1.80617 14.3983L1.80572 14.3976C1.80553 14.3972 1.80536 14.3969 2.49995 14C1.80536 13.6031 1.80553 13.6028 1.80572 13.6025L1.80617 13.6017L1.80735 13.5996L1.81083 13.5936L1.82225 13.5741C1.83184 13.5578 1.84538 13.535 1.86287 13.5062C1.89785 13.4486 1.94862 13.3668 2.01509 13.2642C2.14798 13.0591 2.34394 12.7705 2.60214 12.4263C3.11771 11.7388 3.88606 10.8233 4.90122 9.90633C6.92795 8.07574 9.98574 6.20001 14 6.20001C18.0142 6.20001 21.072 8.07574 23.0987 9.90633C24.1138 10.8233 24.8822 11.7388 25.3978 12.4263C25.656 12.7705 25.8519 13.0591 25.9848 13.2642C26.0513 13.3668 26.1021 13.4486 26.137 13.5062C26.1545 13.535 26.1681 13.5578 26.1777 13.5741L26.1891 13.5936L26.1925 13.5996L26.1937 13.6017L26.1942 13.6025ZM25.5 14L26.1945 13.6031C26.3351 13.849 26.3351 14.151 26.1945 14.3969L25.5 14ZM1.80536 13.6031L2.49995 14L1.80536 14.3969C1.66482 14.151 1.66482 13.849 1.80536 13.6031ZM18.5 14C18.5 16.4853 16.4853 18.5 14 18.5C11.5147 18.5 9.5 16.4853 9.5 14C9.5 11.5147 11.5147 9.5 14 9.5C16.4853 9.5 18.5 11.5147 18.5 14ZM15.5 14C15.5 14.8284 14.8284 15.5 14 15.5C13.1716 15.5 12.5 14.8284 12.5 14C12.5 13.1716 13.1716 12.5 14 12.5C14.8284 12.5 15.5 13.1716 15.5 14Z',
    };
    //   return (
    //     <path
    //       d="M7.0869 5.91308C6.76276 5.58895 6.23724 5.58895 5.9131 5.91308C5.58897 6.23722 5.58897 6.76275 5.9131 7.08688L20.9131 22.0869C21.2372 22.411 21.7628 22.411 22.0869 22.0869C22.411 21.7627 22.411 21.2372 22.0869 20.9131L7.0869 5.91308Z"
    //       fill={color}
    //     />
    //   );
    // } else if (isFilled)

    // return (
    //   <path
    //     d="M2.49994 14C2.49994 14 6.49994 6.00002 13.9999 6.00002C21.4999 6.00002 25.4999 14 25.4999 14C25.4999 14 21.4999 22 13.9999 22C6.49994 22 2.49994 14 2.49994 14ZM19 14C19 16.7614 16.7614 19 14 19C11.2386 19 9 16.7614 9 14C9 11.2386 11.2386 9.00002 14 9.00002C16.7614 9.00002 19 11.2386 19 14ZM17 14C17 15.6569 15.6569 17 14 17C12.3431 17 11 15.6569 11 14C11 12.3432 12.3431 11 14 11C15.6569 11 17 12.3432 17 14Z"
    //     fill={color}
    //   />
    // );
  };

  return (
    <svg
      onClick={handleIconClick}
      width={size}
      height={size}
      viewBox='0 0 28 28'
      xmlns='http://www.w3.org/2000/svg'
      style={{ cursor: 'pointer' }}
    >
      <path {...renderIcon()} fillRule='evenodd' clipRule='evenodd' fill={color} stroke={color} />
    </svg>
  );
};

export default EyeIcon;
